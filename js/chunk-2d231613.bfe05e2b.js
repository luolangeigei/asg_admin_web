(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d231613"],{effb:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[t._v(" 发布公告 "),e("el-input",{attrs:{placeholder:"请输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入标题"},model:{value:t.msg,callback:function(e){t.msg=e},expression:"msg"}}),e("el-button",{on:{click:t.pushNews}},[t._v("发布")]),t._v(" 公告表格 "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.newsData}},[e("el-table-column",{attrs:{prop:"id",label:"序号",width:"180"}}),e("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),e("el-table-column",{attrs:{prop:"msg",label:"内容"}}),e("el-table-column",{attrs:{prop:"formName",label:"管理员"}}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.delNews(n.row)}}},[t._v("删除")])]}}])})],1)],1)},l=[],a=n("b775");function i(t,e){return a["a"].post("/api/v1/admin/news",{title:t,msg:e})}function o(){return a["a"].get("/api/v1/news")}function c(t){return a["a"].delete("/api/v1/admin/news?newid="+t)}var r={name:"News",data(){return{title:"",msg:"",newsData:[]}},methods:{pushNews(){i(this.title,this.msg).then(()=>{this.$message.success("发布成功！"),this.title="",this.msg=""}).catch(t=>{console.log(t)})},initNews(){o().then(t=>{this.newsData=t.data}).catch(t=>{console.log(t)})},delNews(t){this.$confirm("是否缺人删除该公告","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{c(t.id).then(()=>{this.$message.success("删除成功！"),this.initNews()}).catch(()=>{console.log("err")})})}},mounted(){this.initNews()}},u=r,p=n("2877"),d=Object(p["a"])(u,s,l,!1,null,"01aa84e4",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d231613.bfe05e2b.js.map
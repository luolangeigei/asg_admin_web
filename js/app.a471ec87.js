(function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},s={app:0},a={app:0},o=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2bef59c1":"070da675","chunk-2d0a45b1":"c849925f","chunk-2d0b9fa1":"d60025a4","chunk-2d231613":"bfe05e2b","chunk-6a3d59a0":"401a240e","chunk-7b3a23c0":"d1b2f086","chunk-7be569d3":"0f7c54d7","chunk-1089ef41":"a424db7b","chunk-fa797e2c":"1ecd1068","chunk-02948c90":"df430b74"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-2bef59c1":1,"chunk-6a3d59a0":1,"chunk-7b3a23c0":1,"chunk-7be569d3":1,"chunk-fa797e2c":1,"chunk-02948c90":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2bef59c1":"713133e1","chunk-2d0a45b1":"31d6cfe0","chunk-2d0b9fa1":"31d6cfe0","chunk-2d231613":"31d6cfe0","chunk-6a3d59a0":"b56217bf","chunk-7b3a23c0":"93e02af6","chunk-7be569d3":"0f0f4a3e","chunk-1089ef41":"31d6cfe0","chunk-fa797e2c":"939aec43","chunk-02948c90":"1be5170c"}[e]+".css",a=u.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var c=o[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===a))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===r||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete s[e],f.parentNode.removeChild(f),n(o)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){s[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+s+")",d.name="ChunkLoadError",d.type=r,d.request=s,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06b7":function(e,t,n){var r={"./slider (1).png":"4641","./slider (2).png":"54f4","./slider (3).png":"a8fb","./slider (4).png":"98bd","./slider (5).png":"3403","./slider (6).png":"6fa5"};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="06b7"},"1e3d":function(e,t,n){"use strict";n("24cb")},"1f89":function(e,t,n){},"24cb":function(e,t,n){},"2c2f":function(e,t,n){},"2f3b":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return h}));var r=n("5f87"),s=n("b775");function a(){return s["a"].get("/api/v1/user")}function o(e,t){return s["a"].get(`/api/v1/admin/allperson?page=${e}&page_long=${t}`)}function i(e){return s["a"].post("/api/v1/user/name",null,{params:{newchinaname:e}})}function u(e,t,n,a){return s["a"].post("/api/v1/admin/enroll",{userName:e,password:t,chinaname:n,eMail:a},{params:{captoken:Object(r["a"])()}})}function c(e){return s["a"].post("/api/v1/admin/setadmin",null,{params:{userid:e}})}function l(e){return s["a"].delete("/api/v1/admin/deluser?userid="+e)}function d(e,t){return s["a"].post(`/api/v1/admin/officium?userid=${e}&officium=${t}`)}function f(e){return s["a"].post("/api/v1/getadmin?password="+e)}function p(e){return Object(s["a"])({url:"/api/v1/setimg",method:"post",data:e})}function h(e){return s["a"].get("/api/v1/admin/user/"+e)}},3403:function(e,t,n){e.exports=n.p+"img/slider (5).a8258b6c.png"},4641:function(e,t,n){e.exports=n.p+"img/slider (1).5cba1e08.png"},"54f4":function(e,t,n){e.exports=n.p+"img/slider (2).a09b05b4.png"},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},a=[],o={name:"App"},i=o,u=(n("1e3d"),n("2877")),c=Object(u["a"])(i,s,a,!1,null,null,null),l=c.exports,d=n("8c4f"),f=n("323e"),p=n.n(f),h=(n("a5d8"),function(){var e=this,t=e._self._c;return t("div",[e._m(0),t("main",[t("div",{staticClass:"loginwrap"},[e.checkSlider?t("div",{staticClass:"slider"},[t("Slider",{on:{SliderSucess:e.SliderSucess,closeSlider:e.closeSlider}})],1):e._e(),e.checkSlider?e._e():t("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.userform,rules:e.rules}},[t("p",[t("i",{staticClass:"el-icon-user-solid"}),e._v("ASG管理系统-登录")]),t("div",{staticClass:"info"},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.userform.username,callback:function(t){e.$set(e.userform,"username",t)},expression:"userform.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}}},[t("el-input",{attrs:{type:e.inputtype,placeholder:"请输入密码"},model:{value:e.userform.password,callback:function(t){e.$set(e.userform,"password",t)},expression:"userform.password"}},[t("i",{class:e.eye_status,attrs:{slot:"suffix"},on:{click:e.toggleEye},slot:"suffix"})])],1),t("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("登录")])],1)])],1)]),t("footer")])}),m=[function(){var e=this,t=e._self._c;return t("header",{staticClass:"clearfix"},[t("img",{attrs:{src:n("cf05")}}),t("span",{staticClass:"title"},[e._v("ASG赛事后台管理系统")])])}],b=(n("14d9"),n("b775"));function g(e){return b["a"].post("/api/v1/login",{userName:e.username,password:e.password})}var v=n("2f3b"),k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slider"},[t("div",{staticClass:"slider-item"},[t("i",{staticClass:"el-icon-circle-close",on:{click:e.closeSlider}}),t("slide-verify",{attrs:{l:42,r:10,w:310,h:155,imgs:e.imgs,"slider-text":e.text},on:{success:e.onSuccess,fail:e.onFail,refresh:e.onRefresh}})],1)])},y=[],S={name:"Slider",data(){return{msg:"",text:"向右滑",imgs:[n("06b7")("./slider ("+Math.round(6*Math.random())+").png")]}},methods:{onSuccess(){this.$emit("SliderSucess")},onFail(){this.msg=""},onRefresh(){this.msg=""},closeSlider(){this.$emit("closeSlider")}}},w=S,_=(n("f376"),Object(u["a"])(w,k,y,!1,null,"5bc0e612",null)),x=_.exports,O={name:"Login",components:{Slider:x},data(){return{userform:{username:"",password:""},checkSlider:!1,eye_status:"el-icon-lock",inputtype:"password",rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{login(){g(this.userform).then(e=>{this.$message.success("登录成功！"),this.$store.commit("setToken",e.data),this.$router.push("/index"),this.initGetInfo()}).catch(()=>{this.$message.error("账号或者密码错误！")})},initGetInfo(){Object(v["c"])().then(e=>{console.log(e.data),this.$store.commit("getUserInfo",e.data)}).catch(e=>{console.log(e)})},toggleEye(){"el-icon-lock"===this.eye_status?(this.eye_status="el-icon-unlock",this.inputtype="text"):(this.eye_status="el-icon-lock",this.inputtype="password")},submit(){this.checkSlider=!0},SliderSucess(){var e=this;setTimeout((function(){e.checkSlider=!1}),1e3),this.login()},closeSlider(){this.checkSlider=!1}}},j=O,C=(n("ec01"),Object(u["a"])(j,h,m,!1,null,"07fbab67",null)),E=C.exports;p.a.inc(.2),p.a.configure({easing:"ease",speed:500,showSpinner:!1});const T=new d["a"]({routes:[{path:"/",component:E},{path:"/index",component:()=>n.e("chunk-7b3a23c0").then(n.bind(null,"0673")),children:[{path:"/",component:()=>n.e("chunk-2bef59c1").then(n.bind(null,"1b42"))},{path:"person",component:()=>n.e("chunk-2d0a45b1").then(n.bind(null,"05a7"))},{path:"schedule",component:()=>n.e("chunk-6a3d59a0").then(n.bind(null,"08c7"))},{path:"enroll",component:()=>n.e("chunk-7be569d3").then(n.bind(null,"c220"))},{path:"blok",component:()=>n.e("chunk-2d0b9fa1").then(n.bind(null,"34f0"))},{path:"news",component:()=>n.e("chunk-2d231613").then(n.bind(null,"effb"))}]}]});T.beforeEach((e,t,n)=>{p.a.start(),n()}),T.afterEach(()=>{p.a.done()});var $=T,A=n("2f62"),N=n("5f87");r["default"].use(A["a"]);const P={},L={setToken(e,t){e.token=t,Object(N["c"])(t)},removeToken(e){e.token=null,Object(N["b"])()},collapseMenu(e){e.isCollapse=!e.isCollapse},getUserInfo(e,t){e.userInfo=t},updateTeamName(e,t){e.team_name=t},SET_LOGO(e,t){e.userInfo.base64=t}},M={token:Object(N["a"])(),isCollapse:!1,userInfo:{},team_name:"",team1_name:"",team2_name:""};var I=new A["a"].Store({actions:P,mutations:L,state:M}),U=n("5c96"),q=n.n(U),F=(n("0fae"),n("8c45")),G=n.n(F);r["default"].use(d["a"]),r["default"].use(G.a),r["default"].use(q.a),r["default"].config.productionTip=!1,new r["default"]({render:e=>e(l),router:$,store:I}).$mount("#app")},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n("852e"),s=n.n(r);const a="token";function o(){return s.a.get(a)}function i(e){return s.a.set(a,e)}function u(){return s.a.remove(a)}},"6fa5":function(e,t,n){e.exports=n.p+"img/slider (6).9d224c39.png"},"98bd":function(e,t,n){e.exports=n.p+"img/slider (4).f4c240e9.png"},a8fb:function(e,t,n){e.exports=n.p+"img/slider (3).236a7dd6.png"},b775:function(e,t,n){"use strict";var r=n("cee4"),s=n("5f87");r["a"].defaults.baseURL="https://124.223.35.239",r["a"].interceptors.request.use(e=>(e.headers.Authorization="Bearer "+Object(s["a"])(),e.headers["Content-Type"]="application/json",e)),t["a"]=r["a"]},cf05:function(e,t,n){e.exports=n.p+"img/logo.86659355.png"},ec01:function(e,t,n){"use strict";n("2c2f")},f376:function(e,t,n){"use strict";n("1f89")}});
//# sourceMappingURL=app.a471ec87.js.map
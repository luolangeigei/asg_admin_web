(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-405a61c1"],{"34f0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title"},[t._v("查询队伍")]),e("el-row",{attrs:{gutter:50}},[e("el-col",{attrs:{span:8}},[e("el-input",{attrs:{placeholder:"请输入战队名字搜寻ID"},model:{value:t.team_name,callback:function(e){t.team_name=e},expression:"team_name"}})],1),e("el-col",{attrs:{span:3}},[e("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),e("el-col",{attrs:{span:8}},[e("el-select",{staticStyle:{"margin-bottom":"10px","margin-right":"30px"},attrs:{placeholder:"请选择赛季"},model:{value:t.eventname,callback:function(e){t.eventname=e},expression:"eventname"}},t._l(t.options,(function(t){return e("el-option",{key:t.name,attrs:{label:t.name,value:t.name}})})),1)],1)],1),e("div",{staticClass:"title"},[t._v(" 列表展示"),e("i",{class:t.iconToggle,attrs:{id:"icon-show"},on:{click:t.toggleIcon}},[t._v(t._s(t.showMsg))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBox,expression:"isShowBox"}]},[0===t.teamIdList.length?[t._m(0)]:[e("table",{attrs:{border:"",width:"40%"}},[t._m(1),e("tbody",t._l(t.teamIdList,(function(a){return e("tr",{key:a.id},[e("td",[t._v(t._s(a.id))]),e("td",[t._v(t._s(a.name))])])})),0)])]],2),e("div",{staticClass:"title"},[t._v("发布冠军")]),t._m(2),e("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[e("el-col",{attrs:{span:2}},[e("el-input",{attrs:{placeholder:"formId"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}})],1),e("el-col",{attrs:{span:20}},[e("el-input",{attrs:{rows:4,type:"textarea",placeholder:"请输入冠军简介"},model:{value:t.chaMsg,callback:function(e){t.chaMsg=e},expression:"chaMsg"}})],1)],1),e("el-button",{staticStyle:{width:"60%",margin:"0 20%"},attrs:{type:"success"},on:{click:t.submit}},[t._v("发布")]),e("div",{staticClass:"title"},[t._v("冠军列表")]),t._l(t.cham,(function(a){return e("el-collapse",{key:a.id},[e("el-collapse-item",{attrs:{name:"item.id"}},[e("template",{slot:"title"},[e("p",{staticClass:"headTitle"},[t._v(" "+t._s(a.events.name)+"冠军"),e("i",{staticClass:"el-icon-medal-1"})])]),e("div",[e("span",{staticClass:"chamTitle"},[t._v("冠军战队:")]),t._v(t._s(a.form.team_name)+" ")]),e("div",[e("span",{staticClass:"chamTitle hunter"},[t._v("监管者:")]),t._l(a.form.role,(function(a){return e("span",{key:a.id},["监管者"===a.role_lin?e("span",[t._v(t._s(a.role_name))]):t._e()])}))],2),e("div",[e("span",{staticClass:"chamTitle survivor"},[t._v("求生者:")]),t._l(a.form.role,(function(a){return e("span",{key:a.id},["求生者"===a.role_lin?e("span",[t._v(t._s(a.role_name)+"、")]):t._e()])}))],2),e("div",[e("span",{staticClass:"chamTitle"},[t._v("战队简介:")]),t._v(t._s(a.msg))])],2)],1)}))],2)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("span",[t._v("暂无数据")])])},function(){var t=this,e=t._self._c;return e("thead",[e("th",[t._v("序号")]),e("th",[t._v("战队名")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"info"},[e("i",{staticClass:"el-icon-question"}),t._v(" 如果不清楚战队的formId(请搜索) ")])}],i=a("b775");function o(t){return i["a"].get("/api/v1/form/"+t)}function l(t){return Object(i["a"])({url:"/api/v1/admin/Champion",method:"post",data:t})}function r(){return i["a"].get("/api/v1/Champion")}var c=a("4737"),m={name:"Blok",data(){return{id:null,team_name:"",teamIdList:[],iconToggle:"el-icon-download",isShowBox:!1,showMsg:"打开",options:[],eventname:"",chaMsg:"",cham:[]}},methods:{search(){o(this.team_name).then(t=>{this.teamIdList=t.data,this.isShowBox=!0,this.iconToggle="el-icon-upload2",this.showMsg="折叠"}).catch(()=>{this.$message.error("服务器异常，请联系管理员")})},toggleIcon(){"el-icon-download"===this.iconToggle?(this.isShowBox=!0,this.iconToggle="el-icon-upload2",this.showMsg="折叠"):(this.isShowBox=!1,this.iconToggle="el-icon-download",this.showMsg="打开")},initSeason(){Object(c["b"])().then(t=>{this.options=t.data}).catch(t=>{console.log(t)})},submit(){if(null===this.id&&""===this.chaMsg)this.$message.error("请输入冠军信息和formid");else{const t={formId:this.id,eventname:this.eventname,msg:this.chaMsg};l(t).then(()=>{this.$message.success("冠军发布成功！")}).catch(t=>{this.$message.error(t)})}},initAllCham(){r().then(t=>{this.cham=t.data}).catch(t=>{this.$message.error(t)})}},mounted(){this.initSeason(),this.initAllCham()}},h=m,d=(a("4ab4"),a("2877")),u=Object(d["a"])(h,s,n,!1,null,"59d9cfd4",null);e["default"]=u.exports},4737:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return l}));var s=a("b775");function n(){return Object(s["a"])({url:"/api/v1/Events",method:"get"})}function i(t,e,a){return Object(s["a"])({url:"/api/v1/admin/Events",method:"post",params:{name:t,is_over:e,opentime:a}})}function o(t){return s["a"].delete("/api/v1/admin/Events?event_name="+t)}function l(t,e){return Object(s["a"])({url:"/api/v1/admin/Events",method:"put",params:{event_name:t},data:{id:e.id,name:e.name,is_over:e.is_over,opentime:e.opentime}})}},"4ab4":function(t,e,a){"use strict";a("904c")},"904c":function(t,e,a){}}]);
//# sourceMappingURL=chunk-405a61c1.ed5eb88a.js.map
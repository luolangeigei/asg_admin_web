{"version":3,"sources":["webpack:///./src/view/schedule/components/ScheduleTable.vue?833e","webpack:///./src/view/schedule/components/ScheduleTable.vue","webpack:///src/view/schedule/components/ScheduleTable.vue","webpack:///./src/view/schedule/components/ScheduleTable.vue?ba52","webpack:///./src/view/schedule/components/ScheduleTable.vue?d26d"],"names":["render","_vm","this","_c","_self","staticStyle","attrs","on","refresh","_v","scheduleData","length","ballot","_e","directives","name","rawName","value","loading","expression","formatterTime","scopedSlots","_u","key","fn","scope","row","bilibiliurl","$event","updateGame","delGame","currentPage","pageSize","total","handleCurrentChange","dialogFormVisible","diaData","formLabelWidth","model","opentime","callback","$$v","$set","closetime","team1_name","team2_name","commentary","player","referee","candidate","staticClass","slot","updateSchedule","staticRenderFns","data","methods","column","cellValue","rec","year","slice","month","day","time","initSchedule","page","pagesize","getSchedule","then","res","console","log","setTimeout","catch","err","delSchedule","id","$message","success","error","push","info","ballotSchedule","val","mounted","component"],"mappings":"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","file":"js/chunk-fa797e2c.1ecd1068.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleTable.vue?vue&type=style&index=0&id=1026550a&prod&scoped=true&lang=less&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-button',{staticStyle:{\"margin\":\"5px\"},attrs:{\"type\":\"success\",\"icon\":\"el-icon-refresh-left\",\"circle\":\"\",\"size\":\"mini\"},on:{\"click\":_vm.refresh}}),_vm._v(\"刷新 \"),(_vm.scheduleData.length===0)?_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.ballot}},[_vm._v(\"一键抽取\")]):_vm._e(),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"height\":\"50vh\",\"data\":_vm.scheduleData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"opentime\",\"label\":\"开始时间\",\"formatter\":_vm.formatterTime,\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"team1_name\",\"label\":\"主场战队\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"team2_name\",\"label\":\"客场战队\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"commentary\",\"label\":\"解说\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"referee\",\"label\":\"导播\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"label\":\"回放链接\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('a',{staticStyle:{\"text-decoration\":\"underline\"},attrs:{\"href\":scope.row.bilibiliurl}},[_vm._v(\"点击前往\")])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"auto\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.updateGame(scope.row)}}},[_vm._v(\"更新\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.delGame(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}),_c('el-dialog',{attrs:{\"title\":\"赛程信息\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.diaData}},[_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"开始时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.opentime),callback:function ($$v) {_vm.$set(_vm.diaData, \"opentime\", $$v)},expression:\"diaData.opentime\"}})],1)],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"结束时间\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.closetime),callback:function ($$v) {_vm.$set(_vm.diaData, \"closetime\", $$v)},expression:\"diaData.closetime\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"主场战队\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.team1_name),callback:function ($$v) {_vm.$set(_vm.diaData, \"team1_name\", $$v)},expression:\"diaData.team1_name\"}})],1)],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"客场战队\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.team2_name),callback:function ($$v) {_vm.$set(_vm.diaData, \"team2_name\", $$v)},expression:\"diaData.team2_name\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"解说1\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.commentary),callback:function ($$v) {_vm.$set(_vm.diaData, \"commentary\", $$v)},expression:\"diaData.commentary\"}})],1)],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"解说2\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.commentary),callback:function ($$v) {_vm.$set(_vm.diaData, \"commentary\", $$v)},expression:\"diaData.commentary\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"裁判\",\"label-width\":_vm.formLabelWidth},model:{value:(_vm.diaData.player),callback:function ($$v) {_vm.$set(_vm.diaData, \"player\", $$v)},expression:\"diaData.player\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"}})],1)],1),_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"导播\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.diaData.referee),callback:function ($$v) {_vm.$set(_vm.diaData, \"referee\", $$v)},expression:\"diaData.referee\"}})],1)],1)],1),_c('el-row',[_c('el-form-item',{attrs:{\"label\":\"赛选获胜队伍\",\"label-width\":_vm.formLabelWidth}},[_c('el-select',{attrs:{\"placeholder\":\"请选择获胜队伍\"},model:{value:(_vm.candidate),callback:function ($$v) {_vm.candidate=$$v},expression:\"candidate\"}},[_c('el-option',{attrs:{\"label\":_vm.diaData.team1_name,\"value\":\"candidate[0]\"}}),_c('el-option',{attrs:{\"label\":_vm.diaData.team2_name,\"value\":\"candidate[1]\"}})],1)],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateSchedule}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-button\r\n      type=\"success\"\r\n      icon=\"el-icon-refresh-left\"\r\n      circle\r\n      size=\"mini\"\r\n      style=\"margin: 5px\"\r\n      @click=\"refresh\"\r\n    ></el-button\r\n    >刷新\r\n    <el-button v-if=\"scheduleData.length===0\" type=\"warning\" @click=\"ballot\">一键抽取</el-button>\r\n    <el-table\r\n      height=\"50vh\"\r\n      :data=\"scheduleData\"\r\n      border\r\n      style=\"width: 100%\"\r\n      v-loading=\"loading\"\r\n    >\r\n      <el-table-column\r\n        prop=\"opentime\"\r\n        label=\"开始时间\"\r\n        :formatter=\"formatterTime\"\r\n        width=\"200\"\r\n      >\r\n      </el-table-column>\r\n      <el-table-column prop=\"team1_name\" label=\"主场战队\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"team2_name\" label=\"客场战队\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"commentary\" label=\"解说\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column prop=\"referee\" label=\"导播\" width=\"150\">\r\n      </el-table-column>\r\n      <el-table-column label=\"回放链接\" width=\"150\">\r\n        <template slot-scope=\"scope\">\r\n            <a style=\"text-decoration:underline\" :href=\"scope.row.bilibiliurl\">点击前往</a>\r\n        </template>\r\n      </el-table-column>\r\n  \r\n      <!-- 2023-07-23T13:00:00 -->\r\n      <el-table-column label=\"操作\" width=\"auto\" align=\"center\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button @click=\"updateGame(scope.row)\" type=\"primary\" size=\"small\"\r\n            >更新</el-button\r\n          >\r\n          <el-button @click=\"delGame(scope.row)\" type=\"danger\" size=\"small\"\r\n            >删除</el-button\r\n          >\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-pagination\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page.sync=\"currentPage\"\r\n      :page-size=\"pageSize\"\r\n      layout=\"prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n    >\r\n    </el-pagination>\r\n    <!-- 表单 -->\r\n    <el-dialog title=\"赛程信息\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"diaData\">\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"开始时间\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.opentime\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"结束时间\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.closetime\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"主场战队\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.team1_name\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"客场战队\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.team2_name\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"解说1\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.commentary\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"解说2\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.commentary\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"裁判\" v-model=\"diaData.player\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"导播\" :label-width=\"formLabelWidth\">\r\n              <el-input\r\n                v-model=\"diaData.referee\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n        <el-form-item label=\"赛选获胜队伍\" :label-width=\"formLabelWidth\">\r\n          <el-select v-model=\"candidate\" placeholder=\"请选择获胜队伍\">\r\n            <el-option :label=\"diaData.team1_name\" value=\"candidate[0]\"></el-option>\r\n            <el-option :label=\"diaData.team2_name\" value=\"candidate[1]\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        </el-row>\r\n      \r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"updateSchedule\">确 定</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { delSchedule, getSchedule,ballotSchedule,updateSchedule } from \"@/api/schedule/index\";\r\nexport default {\r\n  name: \"ScheduleTable\",\r\n  data() {\r\n    return {\r\n      scheduleData: [],\r\n      loading: false,\r\n      dialogFormVisible: false,\r\n      formLabelWidth:'200',\r\n      diaData:[],\r\n      candidate:[],\r\n      currentPage:1,\r\n      pageSize:5,\r\n      total:null,\r\n    };\r\n  },\r\n  methods: {\r\n    // <!-- 2023-07-23T13:00:00 -->\r\n    formatterTime(row, column, cellValue) {\r\n      let rec = \"\";\r\n      let year = cellValue.slice(0, 4);\r\n      let month = cellValue.slice(5, 7);\r\n      let day = cellValue.slice(8, 10);\r\n      let time = cellValue.slice(11, 19);\r\n      rec = year + \"年\" + month + \"月\" + day + \"日\" + \" \" + time;\r\n      return rec;\r\n    },\r\n    //获取赛程\r\n    initSchedule(page,pagesize) {\r\n      this.loading = true;\r\n      getSchedule(page,pagesize)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.scheduleData = res.data;\r\n          this.total = res.data.length\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n          }, 1000);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setTimeout(() => {\r\n            this.loading = false;\r\n          }, 1000);\r\n        });\r\n    },\r\n    delGame(row) {\r\n      delSchedule(row.id)\r\n        .then(() => {\r\n          this.$message.success(\"删除成功！\");\r\n          this.initSchedule(this.currentPage,this.pageSize);\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error(err);\r\n        });\r\n    },\r\n    refresh() {\r\n      this.initSchedule(this.currentPage,this.pageSize);\r\n    },\r\n    updateGame(row) {\r\n      this.dialogFormVisible = true;\r\n      this.diaData = row\r\n      this.candidate.push(row.team1_name)\r\n      this.candidate.push(row.team2_name)\r\n    },\r\n    updateSchedule(){\r\n      const info = {\r\n        team1_name:this.diaData.team1_name,\r\n        team2_name:this.diaData.team2_name,\r\n        opentime:this.diaData.opentime,\r\n        commentary:this.diaData.commentary,\r\n        referee:this.diaData.referee\r\n      }\r\n      updateSchedule(this.diaData.id,info)\r\n      .then(res=>{\r\n        console.log(res.data)\r\n        this.dialogFormVisible = false\r\n        this.initSchedule(this.currentPage,this.pageSize);\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      })\r\n\r\n    },\r\n    //抽签赛程\r\n    ballot(){\r\n      ballotSchedule()\r\n      .then(res=>{\r\n        console.log(res.data)\r\n        this.initSchedule(this.currentPage,this.pageSize)\r\n      })\r\n      .catch(err=>{\r\n        console.log(err)\r\n      })\r\n    },\r\n    handleCurrentChange(val){\r\n       this.currentPage = val\r\n       this.initSchedule(this.currentPage,this.pageSize);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initSchedule(this.currentPage,this.pageSize);\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n  .el-col{\r\n    margin:0 10px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ScheduleTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ScheduleTable.vue?vue&type=template&id=1026550a&scoped=true&\"\nimport script from \"./ScheduleTable.vue?vue&type=script&lang=js&\"\nexport * from \"./ScheduleTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ScheduleTable.vue?vue&type=style&index=0&id=1026550a&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1026550a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
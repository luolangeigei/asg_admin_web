{"version":3,"sources":["webpack:///./src/view/news/index.vue","webpack:///./src/api/news/index.js","webpack:///src/view/news/index.vue","webpack:///./src/view/news/index.vue?3568","webpack:///./src/view/news/index.vue?1297"],"names":["render","_vm","this","_c","_self","_v","attrs","model","value","title","callback","$$v","expression","msg","on","pushNews","staticStyle","newsData","scopedSlots","_u","key","fn","scope","$event","delNews","row","staticRenderFns","request","post","getNews","get","id","delete","name","data","methods","then","$message","success","catch","err","console","log","initNews","res","$confirm","confirmButtonText","cancelButtonText","type","mounted","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACF,EAAII,GAAG,UAAUF,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASC,MAAM,CAACC,MAAOP,EAAIQ,MAAOC,SAAS,SAAUC,GAAMV,EAAIQ,MAAME,GAAKC,WAAW,WAAWT,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAc,SAASC,MAAM,CAACC,MAAOP,EAAIY,IAAKH,SAAS,SAAUC,GAAMV,EAAIY,IAAIF,GAAKC,WAAW,SAAST,EAAG,YAAY,CAACW,GAAG,CAAC,MAAQb,EAAIc,WAAW,CAACd,EAAII,GAAG,QAAQJ,EAAII,GAAG,UAAUF,EAAG,WAAW,CAACa,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,KAAOL,EAAIgB,WAAW,CAACd,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,KAAK,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,MAAM,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,WAAW,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAMY,YAAYjB,EAAIkB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACnB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAUQ,GAAG,CAAC,MAAQ,SAASS,GAAQ,OAAOtB,EAAIuB,QAAQF,EAAMG,QAAQ,CAACxB,EAAII,GAAG,gBAAgB,IAAI,IAEngCqB,EAAkB,G,YCAf,SAASX,EAASN,EAAMI,GAC3B,OAAOc,OAAQC,KAAK,qBAAqB,CACrCnB,QACAI,QAID,SAASgB,IACZ,OAAOF,OAAQG,IAAI,gBAGhB,SAASN,EAAQO,GACpB,OAAOJ,OAAQK,OAAQ,4BAA2BD,GC0BvC,OACfE,KAAA,OACAC,OACA,OACAzB,MAAA,GACAI,IAAA,GACAI,SAAA,KAGAkB,QAAA,CACApB,WACAA,EAAA,KAAAN,MAAA,KAAAI,KACAuB,KAAA,KACA,KAAAC,SAAAC,QAAA,SACA,KAAA7B,MAAA,GACA,KAAAI,IAAA,KAEA0B,MAAAC,IACAC,QAAAC,IAAAF,MAIAG,WACAd,IACAO,KAAAQ,IACA,KAAA3B,SAAA2B,EAAAV,OAEAK,MAAAC,IACAC,QAAAC,IAAAF,MAIAhB,QAAAC,GACA,KAAAoB,SAAA,kBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACAZ,KAAA,KACAZ,EAAAC,EAAAM,IACAK,KAAA,KACA,KAAAC,SAAAC,QAAA,SACA,KAAAK,aAEAJ,MAAA,KAAAE,QAAAC,IAAA,aAIAO,UACA,KAAAN,aCxF8V,I,YCO1VO,EAAY,eACd,EACAlD,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E","file":"js/chunk-2d231613.bfe05e2b.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_vm._v(\" 发布公告 \"),_c('el-input',{attrs:{\"placeholder\":\"请输入标题\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入标题\"},model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=$$v},expression:\"msg\"}}),_c('el-button',{on:{\"click\":_vm.pushNews}},[_vm._v(\"发布\")]),_vm._v(\" 公告表格 \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newsData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"序号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"标题\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"msg\",\"label\":\"内容\"}}),_c('el-table-column',{attrs:{\"prop\":\"formName\",\"label\":\"管理员\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.delNews(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '../../utils/request'\r\n// 发布公告\r\nexport function pushNews(title,msg){\r\n    return request.post('/api/v1/admin/news',{\r\n        title,\r\n        msg\r\n    })\r\n}\r\n//获取公告\r\nexport function getNews(){\r\n    return request.get('/api/v1/news')\r\n}\r\n//删除公告\r\nexport function delNews(id){\r\n    return request.delete(`/api/v1/admin/news?newid=${id}`)\r\n}","<template>\r\n  <div>\r\n    发布公告\r\n    <el-input v-model=\"title\" placeholder=\"请输入标题\"></el-input>\r\n    <el-input type=\"textarea\" :rows=\"3\" v-model=\"msg\" placeholder=\"请输入标题\"></el-input>\r\n    <el-button @click=\"pushNews\">发布</el-button>\r\n    公告表格\r\n    <el-table\r\n      :data=\"newsData\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"序号\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"title\"\r\n        label=\"标题\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"msg\"\r\n        label=\"内容\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"formName\"\r\n        label=\"管理员\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n            <el-button type=\"danger\" @click=\"delNews(scope.row)\">删除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { pushNews,getNews,delNews } from '../../api/news/index'\r\nexport default {\r\n  name: \"News\",\r\n  data(){\r\n    return{\r\n      title:'',\r\n      msg:'',\r\n      newsData:[]\r\n    }\r\n  },\r\n  methods:{\r\n    pushNews(){\r\n      pushNews(this.title,this.msg)\r\n      .then(()=>{\r\n        this.$message.success('发布成功！');\r\n        this.title='',\r\n        this.msg = ''\r\n      })\r\n      .catch((err)=>{\r\n        console.log(err)\r\n      })\r\n    },\r\n    //获取news\r\n    initNews(){\r\n         getNews()\r\n         .then(res=>{\r\n          this.newsData = res.data\r\n         })\r\n         .catch(err=>{\r\n          console.log(err)\r\n         })\r\n    },\r\n    //删除公告\r\n    delNews(row){\r\n      this.$confirm('是否缺人删除该公告', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(()=>{\r\n            delNews(row.id)\r\n            .then(()=>{\r\n              this.$message.success('删除成功！')\r\n              this.initNews()\r\n            })\r\n            .catch(()=>{console.log('err')})\r\n        })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.initNews()\r\n  }\r\n \r\n};\r\n</script>\r\n\r\n<style scoped lang=\"less\"></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=01aa84e4&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01aa84e4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}